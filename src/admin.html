<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administration - Les Scoops du Jour</title>
    <meta name="description" content="Dashboard d'administration - Les Scoops du Jour">
    <meta name="robots" content="noindex, nofollow">

    <!-- Styles -->
    <link rel="stylesheet" href="../public/bundle.css">
    <link rel="stylesheet" href="css/admin.css">

    <!-- Chart.js pour les graphiques -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- TinyMCE pour l'√©diteur WYSIWYG -->
    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
</head>
<body>
    <!-- Header Admin -->
    <header class="admin-header">
        <div class="admin-header-content">
            <div class="admin-logo">
                <h1>üõ†Ô∏è Administration</h1>
                <span>Les Scoops du Jour</span>
            </div>

            <div class="admin-header-actions">
                <div class="admin-notifications">
                    <button class="notification-btn" id="notification-btn">
                        üîî <span class="notification-badge" id="notification-count">3</span>
                    </button>
                </div>

                <div class="admin-user">
                    <span>Admin</span>
                    <button class="logout-btn" id="logout-btn">D√©connexion</button>
                </div>
            </div>
        </div>
    </header>

    <div class="admin-dashboard">
        <!-- Sidebar Navigation -->
        <nav class="admin-sidebar">
            <ul class="admin-nav">
                <li class="admin-nav-item active" data-section="overview">
                    <a href="#overview">
                        üìä Vue d'ensemble
                    </a>
                </li>
                <li class="admin-nav-item" data-section="articles">
                    <a href="#articles">
                        üìù Gestion articles
                    </a>
                </li>
                <li class="admin-nav-item" data-section="users">
                    <a href="#users">
                        üë• Utilisateurs
                    </a>
                </li>
                <li class="admin-nav-item" data-section="forum">
                    <a href="#forum">
                        üí¨ Mod√©ration forum
                    </a>
                </li>
                <li class="admin-nav-item" data-section="analytics">
                    <a href="#analytics">
                        üìà Analytics
                    </a>
                </li>
                <li class="admin-nav-item" data-section="settings">
                    <a href="#settings">
                        ‚öôÔ∏è Param√®tres
                    </a>
                </li>
            </ul>

            <!-- Quick Stats Sidebar -->
            <div class="admin-sidebar-stats">
                <div class="stat-item">
                    <span class="stat-label">Articles aujourd'hui</span>
                    <span class="stat-value" id="today-articles">12</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Visiteurs actifs</span>
                    <span class="stat-value" id="active-users">1,247</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Commentaires en attente</span>
                    <span class="stat-value" id="pending-comments">8</span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="admin-content">
            <!-- Vue d'ensemble -->
            <section id="overview" class="admin-section active">
                <div class="admin-section-header">
                    <h2>Vue d'ensemble</h2>
                    <div class="admin-actions">
                        <button class="btn btn-primary" id="refresh-data">Actualiser</button>
                    </div>
                </div>

                <!-- Statistiques principales -->
                <div class="admin-stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üëÅÔ∏è</div>
                        <div class="stat-content">
                            <h3 id="total-views">45,231</h3>
                            <p>Pages vues (30 jours)</p>
                            <span class="stat-change positive">+12.5%</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">üë§</div>
                        <div class="stat-content">
                            <h3 id="unique-visitors">8,942</h3>
                            <p>Visiteurs uniques</p>
                            <span class="stat-change positive">+8.2%</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">üìù</div>
                        <div class="stat-content">
                            <h3 id="total-articles">156</h3>
                            <p>Articles publi√©s</p>
                            <span class="stat-change positive">+5</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">üí¨</div>
                        <div class="stat-content">
                            <h3 id="total-comments">1,203</h3>
                            <p>Commentaires</p>
                            <span class="stat-change positive">+15.3%</span>
                        </div>
                    </div>
                </div>

                <!-- Graphiques -->
                <div class="admin-charts-grid">
                    <div class="chart-card">
                        <h3>Visiteurs par jour (7 derniers jours)</h3>
                        <canvas id="visitors-chart"></canvas>
                    </div>

                    <div class="chart-card">
                        <h3>Articles populaires</h3>
                        <canvas id="popular-articles-chart"></canvas>
                    </div>
                </div>

                <!-- Activit√© r√©cente -->
                <div class="admin-recent-activity">
                    <h3>Activit√© r√©cente</h3>
                    <div class="activity-list" id="recent-activity">
                        <!-- Activit√©s charg√©es dynamiquement -->
                    </div>
                </div>
            </section>

            <!-- Gestion articles -->
            <section id="articles" class="admin-section">
                <div class="admin-section-header">
                    <h2>Gestion des articles</h2>
                    <div class="admin-actions">
                        <button class="btn btn-primary" id="new-article-btn">Nouvel article</button>
                        <button class="btn btn-secondary" id="import-articles">Importer</button>
                    </div>
                </div>

                <!-- Filtres et recherche -->
                <div class="admin-filters">
                    <div class="filter-group">
                        <input type="text" placeholder="Rechercher..." id="article-search">
                        <select id="article-status">
                            <option value="all">Tous les statuts</option>
                            <option value="published">Publi√©</option>
                            <option value="draft">Brouillon</option>
                            <option value="scheduled">Planifi√©</option>
                        </select>
                        <select id="article-category">
                            <option value="all">Toutes cat√©gories</option>
                            <option value="politique">Politique</option>
                            <option value="economie">√âconomie</option>
                            <option value="sport">Sport</option>
                            <option value="culture">Culture</option>
                        </select>
                    </div>
                </div>

                <!-- Liste des articles -->
                <div class="admin-table-container">
                    <table class="admin-table" id="articles-table">
                        <thead>
                            <tr>
                                <th>Titre</th>
                                <th>Auteur</th>
                                <th>Cat√©gorie</th>
                                <th>Statut</th>
                                <th>Vues</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="articles-tbody">
                            <!-- Articles charg√©s dynamiquement -->
                        </tbody>
                    </table>
                </div>

                <!-- Pagination -->
                <div class="admin-pagination" id="articles-pagination">
                    <!-- Pagination g√©n√©r√©e dynamiquement -->
                </div>
            </section>

            <!-- √âditeur d'article -->
            <div id="article-editor" class="admin-modal">
                <div class="admin-modal-content">
                    <div class="admin-modal-header">
                        <h3 id="editor-title">Nouvel article</h3>
                        <button class="admin-modal-close" id="editor-close">√ó</button>
                    </div>

                    <form id="article-form" class="admin-form">
                        <div class="form-group">
                            <label for="article-title">Titre</label>
                            <input type="text" id="article-title" required>
                        </div>

                        <div class="form-group">
                            <label for="article-category">Cat√©gorie</label>
                            <select id="article-category" required>
                                <option value="">S√©lectionner une cat√©gorie</option>
                                <option value="politique">Politique</option>
                                <option value="economie">√âconomie</option>
                                <option value="sport">Sport</option>
                                <option value="culture">Culture</option>
                                <option value="tech">Tech</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="article-image">Image principale</label>
                            <input type="file" id="article-image" accept="image/*">
                            <div id="image-preview"></div>
                        </div>

                        <div class="form-group">
                            <label for="article-content">Contenu</label>
                            <textarea id="article-content"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="article-tags">Tags (s√©par√©s par des virgules)</label>
                            <input type="text" id="article-tags" placeholder="politique, b√©nin, gouvernement">
                        </div>

                        <div class="form-group">
                            <label for="article-status">Statut</label>
                            <select id="article-status">
                                <option value="draft">Brouillon</option>
                                <option value="published">Publier maintenant</option>
                                <option value="scheduled">Planifier</option>
                            </select>
                        </div>

                        <div class="form-group" id="schedule-group" style="display: none;">
                            <label for="article-schedule">Date de publication</label>
                            <input type="datetime-local" id="article-schedule">
                        </div>

                        <div class="form-actions">
                            <button type="button" class="btn btn-secondary" id="save-draft">Sauvegarder brouillon</button>
                            <button type="submit" class="btn btn-primary" id="publish-article">Publier</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Utilisateurs -->
            <section id="users" class="admin-section">
                <div class="admin-section-header">
                    <h2>Gestion des utilisateurs</h2>
                    <div class="admin-actions">
                        <button class="btn btn-primary" id="add-user-btn">Ajouter utilisateur</button>
                    </div>
                </div>

                <div class="admin-table-container">
                    <table class="admin-table" id="users-table">
                        <thead>
                            <tr>
                                <th>Utilisateur</th>
                                <th>Email</th>
                                <th>R√¥le</th>
                                <th>Derni√®re activit√©</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="users-tbody">
                            <!-- Utilisateurs charg√©s dynamiquement -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Mod√©ration forum -->
            <section id="forum" class="admin-section">
                <div class="admin-section-header">
                    <h2>Mod√©ration forum</h2>
                </div>

                <!-- File d'attente de mod√©ration -->
                <div class="moderation-queue">
                    <h3>En attente de mod√©ration</h3>
                    <div class="moderation-list" id="moderation-queue">
                        <!-- Messages en attente -->
                    </div>
                </div>

                <!-- Signalements -->
                <div class="reports-section">
                    <h3>Signalements</h3>
                    <div class="reports-list" id="reports-list">
                        <!-- Signalements -->
                    </div>
                </div>
            </section>

            <!-- Analytics -->
            <section id="analytics" class="admin-section">
                <div class="admin-section-header">
                    <h2>Analytics d√©taill√©s</h2>
                </div>

                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3>Trafic par source</h3>
                        <canvas id="traffic-sources-chart"></canvas>
                    </div>

                    <div class="analytics-card">
                        <h3>Engagement par cat√©gorie</h3>
                        <canvas id="category-engagement-chart"></canvas>
                    </div>

                    <div class="analytics-card">
                        <h3>Performance des articles</h3>
                        <div class="performance-metrics" id="performance-metrics">
                            <!-- M√©triques charg√©es dynamiquement -->
                        </div>
                    </div>

                    <div class="analytics-card">
                        <h3>Temps de session moyen</h3>
                        <canvas id="session-duration-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Param√®tres -->
            <section id="settings" class="admin-section">
                <div class="admin-section-header">
                    <h2>Param√®tres syst√®me</h2>
                </div>

                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>Param√®tres g√©n√©raux</h3>
                        <form class="settings-form" id="general-settings">
                            <div class="form-group">
                                <label for="site-title">Titre du site</label>
                                <input type="text" id="site-title" value="Les Scoops du Jour">
                            </div>

                            <div class="form-group">
                                <label for="site-description">Description</label>
                                <textarea id="site-description">Votre source d'informations fiable sur l'actualit√© b√©ninoise</textarea>
                            </div>

                            <div class="form-group">
                                <label for="admin-email">Email administrateur</label>
                                <input type="email" id="admin-email" value="admin@lesscoopsdujour.com">
                            </div>

                            <button type="submit" class="btn btn-primary">Sauvegarder</button>
                        </form>
                    </div>

                    <div class="settings-card">
                        <h3>Mod√©ration automatique</h3>
                        <form class="settings-form" id="moderation-settings">
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="auto-moderate" checked>
                                    Mod√©ration automatique des commentaires
                                </label>
                            </div>

                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="spam-filter" checked>
                                    Filtre anti-spam
                                </label>
                            </div>

                            <div class="form-group">
                                <label for="max-comments">Commentaires max par heure</label>
                                <input type="number" id="max-comments" value="10">
                            </div>

                            <button type="submit" class="btn btn-primary">Sauvegarder</button>
                        </form>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Scripts -->
    <script src="../public/bundle.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>
